<!DOCTYPE html>
<html>
	<head>
		<title>Etch-a-sketch</title>
		<meta charset="UTF-8">
		<meta http-equiv="refresh" content="3">
		<style>
			body {
				display: flex;
				justify-content: center;
			}

			#grid {
				display: flex;
				flex-direction: column;
				background: #BADA55;
				width: 50%;
				height: 90vh;
				margin: 0;
			}

			.row {
				display: flex;
				flex-direction: row;
				flex: 1;
			}

			.cell {
				flex: 1;
				border: 1px solid black;
			}

			.cell:hover {
				background: #000;
			}
		</style>
	</head>
	<body>
		<div id="grid"></div>

		<script type="text/javascript">

			let cells = document.getElementsByClassName('cell');

			function createGrid(numRows, numCols)
			{
				var grid = document.getElementById('grid');

				for(let i = 0; i < numRows; ++i)
				{
					let row = document.createElement('div');
					row.className = 'row';
					grid.appendChild(row);
					createCols(row, numCols);
				}

				paintBlackOnHover();
			}

			function createCols(parent, numCols)
			{
				for(let i = 0; i < numCols; ++i)
				{
					let col = document.createElement('div');
					col.className = "cell";
					parent.appendChild(col);
				}
			}

			function paintBlack()
			{
				this.style.backgroundColor = "black";
				this.style.opacity = 1;
			}

			function paintBlackOnHover(fn)
			{
				Array.from(cells).forEach( (cell) => {
					cell.addEventListener('mouseover', paintBlack);
				});
			}

			createGrid(7, 7);

		</script>
	</body>
</html>
